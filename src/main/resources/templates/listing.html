<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Listing</title>
</head>
<body>
    <h1>Project Listing</h1>

    <div>
      <div>
        <form>
          <table>
            <tr>
              <td>Status:</td>
              <td>
                <select class="form-select" name="status">
                  <option value="pending" selected>Pending</option>
                  <option value="started">Started</option>
                  <option value="in_progress">In progress</option>
                  <option value="completed">Completed</option>
                </select>
              </td>
              <td>
                <button type="submit" formmethod="GET" formaction="/listing">Filter</button>
              </td>
            </tr>
          </table>
        </form>
      </div>
      
        <table class="table">
          <thead class="table-light">
            <td>Project</td>
            <td>Description</td>
            <td>Due Date</td>
            <td>Priority</td>
            <td>Status</td>
            <td>Created Date</td>
            <td>Updated Date</td>
            <td>Edit/Delete</td>
          </thead>
          <tbody>
            <!-- filter -->
            <div>
              <tr data-th-each="obj:${filteredList}" data-th-if="${stat!= null}">
                <td>
                  <span data-th-text="${obj.projName}"></span>
                  <br>
                  <span data-th-text="${obj.id}"></span>
                </td>
                
                <td><span data-th-text="${obj.description}"></span></td>
                <td><span data-th-text="${obj.dueDate}"></span></td>
                <td><span data-th-text="${obj.priority}"></span></td>
                <td><span data-th-text="${obj.status}"></span></td>
                <td><span data-th-text="${obj.createdDate}"></span></td>
                <td><span data-th-text="${obj.updatedDate}"></span></td>
                <td>
                  <a data-th-href="@{/add/{id}(id=${obj.id})}">
                    <button>Edit</button>
                  </a>
                  <!-- <a data-th-href=""> -->
                    <button>Delete</button>
                  <!-- </a> -->
                </td>
              </tr>
            </div>

            <div>
              <tr data-th-each="obj:${projList}" data-th-unless="${stat != null}">
                <td>
                  <span data-th-text="${obj.projName}"></span>
                  <br>
                  <span data-th-text="${obj.id}"></span>
                </td>
                
                <td><span data-th-text="${obj.description}"></span></td>
                <td><span data-th-text="${obj.dueDate}"></span></td>
                <td><span data-th-text="${obj.priority}"></span></td>
                <td><span data-th-text="${obj.status}"></span></td>
                <td><span data-th-text="${obj.createdDate}"></span></td>
                <td><span data-th-text="${obj.updatedDate}"></span></td>
                <td>
                  <a data-th-href="@{/add/{id}(id=${obj.id})}">
                    <button>Edit</button>
                  </a>
                  <!-- <a data-th-href=""> -->
                    <button>Delete</button>
                  <!-- </a> -->
                </td>
              </tr>
            </div>

          </tbody>
        </table>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>